---
import { getLocations } from '../lib/contentful';

let locations;
let error;

try {
  locations = await getLocations();
} catch (e) {
  error = e.message;
}
---

<html>
  <body>
    <h1>Contentful Connection Test</h1>
    {error ? (
      <p style="color: red;">Error: {error}</p>
    ) : (
      <div>
        <p style="color: green;">âœ… Successfully connected to Contentful!</p>
        <p>Found {locations.length} locations:</p>
        <ul>
          {locations.map(location => (
            <li>{location.fields.locationName}</li>
          ))}
        </ul>
      </div>
    )}
  </body>
</html>